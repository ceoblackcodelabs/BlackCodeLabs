<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}BlackCodeLabs | Comprehensive Technology Solutions{% endblock %}</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/three@0.132.2/build/three.min.js"></script>
    <link rel="stylesheet" href="{% static 'assets/css/style.css' %}">
    <link rel="icon" type="image/x-icon" href="{% static 'assets/images/favicon.ico' %}">
    {% block extra_css %}{% endblock %}
</head>
<body>
    <!-- Loading Animation -->
    <div class="loading">
        <div class="loading-spinner"></div>
    </div>

    <!-- Space Navigation -->
    <div class="space-nav">
        <div class="nav-dot active" data-section="Home"></div>
        <div class="nav-dot" data-section="Services"></div>
        <div class="nav-dot" data-section="Statistics"></div>
        <div class="nav-dot" data-section="About"></div>
        <div class="nav-dot" data-section="Team"></div>
        <div class="nav-dot" data-section="Testimonials"></div>
        <div class="nav-dot" data-section="Demos"></div>
        <div class="nav-dot" data-section="Newsletter"></div>
        <div class="nav-dot" data-section="Contact"></div>
    </div>

    <!-- Header & Navigation -->
    <header>
        <div class="container">
            <nav>
                <a href="{% url 'home' %}" class="logo">BlackCode<span>Labs</span></a>
                
                <!-- Hamburger Menu -->
                <div class="hamburger" id="hamburger">
                    <div class="line"></div>
                    <div class="line"></div>
                    <div class="line"></div>
                </div>
                
                <ul class="nav-links">
                    <li><a href="{% url 'home' %}">Home</a></li>
                    <li><a href="{% url 'about' %}">About</a></li>
                    <li><a href="{% url 'tech' %}">Technology</a></li>
                    <li><a href="{% url 'solutions' %}">Solutions</a></li>
                    <li><a href="{% url 'courses' %}">Courses</a></li>
                    <li><a href="{% url 'careers' %}">Careers</a></li>
                    <li><a href="{% url 'blog' %}">Blog</a></li>
                    <li><a href="{% url 'games' %}">Games</a></li>
                    <li><a href="{% url 'contact' %}">Contact</a></li>
                    
                    <!-- Mobile Demo Button (hidden on desktop) -->
                    <a href="{% url 'demo' %}" class="header-demo-btn mobile-only">
                        <i class="fas fa-play-circle"></i>
                        Live Demo
                    </a>
                </ul>
                <!-- Desktop Demo Button -->
                <a href="{% url 'demo' %}" class="header-demo-btn desktop-only">
                    <i class="fas fa-play-circle"></i>
                    Live Demo
                </a>
            </nav>
        </div>
    </header>

    <!-- Mobile Menu Overlay -->
    <div class="mobile-menu-overlay" id="mobileMenuOverlay"></div>

    {% block content %}{% endblock %}

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>BlackCodeLabs</h3>
                    <p>Comprehensive technology solutions</p>
                    <div class="social-icons">
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-linkedin"></i></a>
                        <a href="#"><i class="fab fa-facebook"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
                <div class="footer-column">
                    <h3>Services</h3>
                    <ul>
                        <li><a href="{% url 'solutions' %}">Web Development</a></li>
                        <li><a href="{% url 'solutions' %}">Automation</a></li>
                        <li><a href="{% url 'solutions' %}">Data Solutions</a></li>
                        <li><a href="{% url 'solutions' %}">Security</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Company</h3>
                    <ul>
                        <li><a href="{% url 'about' %}">About Us</a></li>
                        <li><a href="{% url 'careers' %}">Careers</a></li>
                        <li><a href="{% url 'blog' %}">Blog</a></li>
                        <li><a href="#">Case Studies</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Contact</h3>
                    <ul>
                        <li><a href="{% url 'contact' %}">Support</a></li>
                        <li><a href="{% url 'contact' %}">Consultation</a></li>
                        <li><a href="{% url 'contact' %}">Partnerships</a></li>
                        <li><a href="{% url 'contact' %}">Get Quote</a></li>
                    </ul>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; {% now "Y" %} BlackCodeLabs. All rights reserved.</p>
            </div>
        </div>
    </footer>

    {% block extra_js %}{% endblock %}
    
    <script>
    // [All JavaScript code from original remains identical]
    // Only changed HTML and text content above
    // Initialize Three.js space scene
    let scene, camera, renderer, sun, moon, earth;
    let mouseX = 0, mouseY = 0;
    
    function initSpace() {
        // Only initialize if space container exists
        const spaceContainer = document.getElementById('space-container');
        if (!spaceContainer) return;
        
        // Scene setup
        scene = new THREE.Scene();
        camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        spaceContainer.appendChild(renderer.domElement);
        
        // Create sun
        const sunGeometry = new THREE.SphereGeometry(1.5, 32, 32);
        const sunMaterial = new THREE.MeshBasicMaterial({ 
            color: 0xffffff,
            emissive: 0xffffff,
            emissiveIntensity: 0.8
        });
        sun = new THREE.Mesh(sunGeometry, sunMaterial);
        scene.add(sun);
        
        // Create earth
        const earthGeometry = new THREE.SphereGeometry(0.8, 32, 32);
        const earthMaterial = new THREE.MeshPhongMaterial({ 
            color: 0x888888,
            specular: 0x333333,
            shininess: 5
        });
        earth = new THREE.Mesh(earthGeometry, earthMaterial);
        earth.position.x = 4;
        scene.add(earth);
        
        // Create moon
        const moonGeometry = new THREE.SphereGeometry(0.4, 32, 32);
        const moonMaterial = new THREE.MeshPhongMaterial({ 
            color: 0xdddddd,
            specular: 0xffffff,
            shininess: 10
        });
        moon = new THREE.Mesh(moonGeometry, moonMaterial);
        moon.position.x = 5.5;
        scene.add(moon);
        
        // Add ambient light
        const ambientLight = new THREE.AmbientLight(0x333333);
        scene.add(ambientLight);
        
        // Add point light for sun
        const pointLight = new THREE.PointLight(0xffffff, 1.5, 100);
        pointLight.position.set(0, 0, 0);
        scene.add(pointLight);
        
        // Add directional light
        const directionalLight = new THREE.DirectionalLight(0xffffff, 0.5);
        directionalLight.position.set(5, 3, 5);
        scene.add(directionalLight);
        
        // Add stars background
        const starGeometry = new THREE.BufferGeometry();
        const starVertices = [];
        for (let i = 0; i < 10000; i++) {
            const x = (Math.random() - 0.5) * 2000;
            const y = (Math.random() - 0.5) * 2000;
            const z = (Math.random() - 0.5) * 2000;
            starVertices.push(x, y, z);
        }
        starGeometry.setAttribute('position', new THREE.Float32BufferAttribute(starVertices, 3));
        const starMaterial = new THREE.PointsMaterial({ 
            color: 0xffffff, 
            size: 1.5,
            sizeAttenuation: true
        });
        const stars = new THREE.Points(starGeometry, starMaterial);
        scene.add(stars);
        
        // Set camera position
        camera.position.z = 10;
        
        // Mouse move event for rotation
        document.addEventListener('mousemove', onMouseMove);
        
        // Animation loop
        animate();
        
        // Handle window resize
        window.addEventListener('resize', onWindowResize);
    }
    
    function onMouseMove(event) {
        // Calculate mouse position in normalized device coordinates
        mouseX = (event.clientX / window.innerWidth) * 2 - 1;
        mouseY = -(event.clientY / window.innerHeight) * 2 + 1;
    }
    
    function animate() {
        requestAnimationFrame(animate);
        
        // Only animate if scene exists
        if (!scene || !renderer || !camera) return;
        
        // Rotate celestial bodies
        if (sun) sun.rotation.y += 0.003;
        if (earth) earth.rotation.y += 0.01;
        if (moon) moon.rotation.y += 0.005;
        
        // Orbit earth around sun
        if (earth) {
            earth.position.x = 4 * Math.sin(Date.now() * 0.0005);
            earth.position.z = 4 * Math.cos(Date.now() * 0.0005);
        }
        
        // Orbit moon around earth
        if (moon && earth) {
            moon.position.x = earth.position.x + 1.5 * Math.sin(Date.now() * 0.001);
            moon.position.z = earth.position.z + 1.5 * Math.cos(Date.now() * 0.001);
        }
        
        // Rotate camera based on mouse position
        camera.position.x += (mouseX * 10 - camera.position.x) * 0.01;
        camera.position.y += (mouseY * 10 - camera.position.y) * 0.01;
        camera.lookAt(scene.position);
        
        renderer.render(scene, camera);
    }
    
    function onWindowResize() {
        if (!camera || !renderer) return;
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
    }
    
    // Initialize page when DOM is loaded
    document.addEventListener('DOMContentLoaded', function() {
        const loading = document.querySelector('.loading');
        
        // Initialize space if container exists (homepage only)
        setTimeout(() => {
            initSpace();
            
            // Hide loading animation
            if (loading) {
                loading.classList.add('hidden');
            }
            
            // Initialize other features
            initScrollAnimations();
            initNavigation();
            
            // Initialize statistics only if elements exist
            const stat1 = document.getElementById('stat1');
            if (stat1) {
                initStatistics();
            }
            
            initMobileMenu();
        }, 500); // Reduced from 1500ms for better UX
    });
    
    // Header scroll effect
    window.addEventListener('scroll', function() {
        const header = document.querySelector('header');
        if (window.scrollY > 50) {
            header.style.background = 'rgba(10, 10, 10, 0.98)';
            header.style.backdropFilter = 'blur(10px)';
        } else {
            header.style.background = 'rgba(10, 10, 10, 0.95)';
        }
        
        // Update navigation dots based on scroll position
        updateNavigation();
    });
    
    // Initialize scroll animations
    function initScrollAnimations() {
        const observerOptions = {
            root: null,
            rootMargin: '0px',
            threshold: 0.1
        };
        
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, observerOptions);
        
        // Observe feature cards
        document.querySelectorAll('.feature-card').forEach(card => {
            observer.observe(card);
        });
        
        // Observe team members
        document.querySelectorAll('.team-member').forEach(member => {
            observer.observe(member);
        });
    }
    
    // Initialize navigation dots
    function initNavigation() {
        const sections = document.querySelectorAll('section');
        const dots = document.querySelectorAll('.nav-dot');
        
        dots.forEach((dot, index) => {
            dot.addEventListener('click', () => {
                if (sections[index]) {
                    sections[index].scrollIntoView({ behavior: 'smooth' });
                }
            });
        });
    }
    
    // Update navigation dots based on scroll position
    function updateNavigation() {
        const sections = document.querySelectorAll('section');
        const dots = document.querySelectorAll('.nav-dot');
        
        let currentSection = '';
        
        sections.forEach(section => {
            const sectionTop = section.offsetTop;
            const sectionHeight = section.clientHeight;
            
            if (window.scrollY >= sectionTop - 200 && 
                window.scrollY < sectionTop + sectionHeight - 200) {
                currentSection = section.getAttribute('id');
            }
        });
        
        dots.forEach(dot => {
            dot.classList.remove('active');
            if (dot.getAttribute('data-section').toLowerCase() === currentSection) {
                dot.classList.add('active');
            }
        });
    }
    
    // Newsletter form submission
    const newsletterForm = document.querySelector('.newsletter-form');
    if (newsletterForm) {
        newsletterForm.addEventListener('submit', function(e) {
            e.preventDefault();
            const email = this.querySelector('input').value;
            
            // Simple validation
            if (!email || !email.includes('@')) {
                alert('Please enter a valid email address.');
                return;
            }
            
            // In a real application, you would send this to a server
            alert('Thank you for subscribing to our newsletter!');
            this.querySelector('input').value = '';
        });
    }
    
    // Mobile Menu Functionality
    function initMobileMenu() {
        const hamburger = document.getElementById('hamburger');
        const mobileMenuOverlay = document.getElementById('mobileMenuOverlay');
        const navLinks = document.querySelector('.nav-links');
        const headerDemoBtn = document.querySelector('.header-demo-btn.desktop-only');
        
        if (hamburger) {
            hamburger.addEventListener('click', function() {
                this.classList.toggle('active');
                if (navLinks) navLinks.classList.toggle('active');
                if (mobileMenuOverlay) mobileMenuOverlay.classList.toggle('active');
                
                // Hide/show CTA button on mobile when menu is open
                if (headerDemoBtn) {
                    if (this.classList.contains('active')) {
                        headerDemoBtn.style.display = 'none';
                    } else {
                        headerDemoBtn.style.display = 'block';
                    }
                }
            });
        }
        
        // Close menu when clicking overlay
        if (mobileMenuOverlay) {
            mobileMenuOverlay.addEventListener('click', function() {
                this.classList.remove('active');
                if (hamburger) hamburger.classList.remove('active');
                if (navLinks) navLinks.classList.remove('active');
                if (headerDemoBtn) headerDemoBtn.style.display = 'block';
            });
        }
        
        // Close menu when clicking a link
        if (navLinks) {
            document.querySelectorAll('.nav-links a').forEach(link => {
                link.addEventListener('click', function() {
                    if (hamburger) hamburger.classList.remove('active');
                    if (navLinks) navLinks.classList.remove('active');
                    if (mobileMenuOverlay) mobileMenuOverlay.classList.remove('active');
                    if (headerDemoBtn) headerDemoBtn.style.display = 'block';
                });
            });
        }
        
        // Handle window resize
        window.addEventListener('resize', function() {
            if (window.innerWidth > 768) {
                // Reset mobile menu on desktop
                if (hamburger) hamburger.classList.remove('active');
                if (navLinks) navLinks.classList.remove('active');
                if (mobileMenuOverlay) mobileMenuOverlay.classList.remove('active');
                if (headerDemoBtn) headerDemoBtn.style.display = 'block';
            }
        });
    }
</script>
</body>
</html>