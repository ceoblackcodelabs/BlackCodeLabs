{% extends 'Home/base.html' %}
{% load static %}

{% block title %}Courses | BlackCodeLabs{% endblock %}

{% block extra_css %}
<style>
    /* Courses-specific styles */
    .courses-hero {
        padding: 150px 0 100px;
        background: linear-gradient(rgba(10, 10, 10, 0.95), rgba(10, 10, 10, 0.95)),
                    url('https://images.unsplash.com/photo-1516321318423-f06f85e504b3?ixlib=rb-4.0.3&auto=format&fit=crop&w=2000&q=80');
        background-size: cover;
        background-position: center;
        text-align: center;
    }
    
    .courses-hero h1 {
        font-size: 3.5rem;
        margin-bottom: 20px;
        color: var(--light);
    }
    
    .courses-hero p {
        font-size: 1.2rem;
        color: var(--gray);
        margin-bottom: 40px;
        max-width: 800px;
        margin-left: auto;
        margin-right: auto;
    }
    
    .hero-stats {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        gap: 30px;
        margin-top: 50px;
        max-width: 800px;
        margin-left: auto;
        margin-right: auto;
    }
    
    .hero-stat {
        text-align: center;
    }
    
    .hero-stat-number {
        font-size: 2.5rem;
        font-weight: bold;
        color: var(--accent);
        margin-bottom: 5px;
    }
    
    .hero-stat-label {
        color: var(--gray);
        font-size: 0.9rem;
    }
    
    .courses-section {
        padding: 100px 0;
        background: var(--dark);
    }
    
    .courses-filter {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        justify-content: center;
        margin: 40px 0;
    }
    
    .filter-btn {
        padding: 10px 20px;
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.1);
        color: var(--gray);
        border-radius: 25px;
        cursor: pointer;
        transition: all 0.3s;
    }
    
    .filter-btn:hover,
    .filter-btn.active {
        background: var(--accent);
        color: var(--dark);
        border-color: var(--accent);
    }
    
    .courses-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
        gap: 30px;
        margin-top: 40px;
    }
    
    .course-card {
        background: rgba(20, 20, 20, 0.8);
        border-radius: 15px;
        overflow: hidden;
        transition: transform 0.3s, box-shadow 0.3s;
        position: relative;
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .course-card:hover {
        transform: translateY(-10px);
        box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
        border-color: rgba(0, 255, 136, 0.3);
    }
    
    .course-badge {
        position: absolute;
        top: 15px;
        right: 15px;
        padding: 5px 15px;
        border-radius: 20px;
        font-size: 0.8rem;
        font-weight: 600;
        z-index: 2;
    }
    
    .course-badge.popular {
        background: var(--accent);
        color: var(--dark);
    }
    
    .course-badge.new {
        background: var(--secondary);
        color: white;
    }
    
    .course-badge.advanced {
        background: #ff6b6b;
        color: white;
    }
    
    .course-badge.kids {
        background: #FF8C42;
        color: white;
    }
    
    .course-image {
        height: 200px;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
    .course-image i {
        font-size: 80px;
        color: white;
    }
    
    .course-content {
        padding: 25px;
    }
    
    .course-category {
        color: var(--accent);
        font-size: 0.9rem;
        font-weight: 600;
        margin-bottom: 10px;
        text-transform: uppercase;
        letter-spacing: 1px;
    }
    
    .course-title {
        font-size: 1.5rem;
        margin-bottom: 15px;
        color: var(--light);
    }
    
    .course-description {
        color: var(--gray);
        margin-bottom: 20px;
        line-height: 1.6;
        font-size: 0.95rem;
    }
    
    .course-meta {
        display: flex;
        justify-content: space-between;
        margin-bottom: 20px;
        padding-bottom: 20px;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .course-meta-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        color: var(--gray);
        font-size: 0.9rem;
    }
    
    .course-meta-item i {
        color: var(--accent);
        margin-bottom: 5px;
        font-size: 1.2rem;
    }
    
    .course-footer {
        display: flex;
        justify-content: space-between;
        align-items: center;
    }
    
    .course-price {
        font-size: 1.5rem;
        font-weight: bold;
        color: var(--light);
    }
    
    .course-price span {
        font-size: 1rem;
        color: var(--gray);
        text-decoration: line-through;
        margin-left: 10px;
    }
    
    .course-button {
        padding: 10px 25px;
        background: transparent;
        color: var(--accent);
        border: 1px solid var(--accent);
        border-radius: 5px;
        cursor: pointer;
        transition: all 0.3s;
        font-weight: 600;
    }
    
    .course-button:hover {
        background: var(--accent);
        color: var(--dark);
    }
    
    .learning-platform {
        padding: 100px 0;
        background: var(--darker);
    }
    
    .platform-features {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 30px;
        margin-top: 50px;
    }
    
    .platform-feature {
        text-align: center;
        padding: 30px;
        background: rgba(20, 20, 20, 0.8);
        border-radius: 10px;
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        transition: transform 0.3s;
    }
    
    .platform-feature:hover {
        transform: translateY(-5px);
        border-color: rgba(0, 255, 136, 0.3);
    }
    
    .platform-feature i {
        font-size: 40px;
        color: var(--accent);
        margin-bottom: 20px;
    }
    
    .platform-feature h3 {
        font-size: 1.3rem;
        margin-bottom: 15px;
        color: var(--light);
    }
    
    .platform-feature p {
        color: var(--gray);
        line-height: 1.6;
    }
    
    /* Modal styles */
    .course-modal,
    .registration-modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.9);
        z-index: 1000;
        overflow-y: auto;
    }
    
    .course-modal.active,
    .registration-modal.active {
        display: block;
    }
    
    .course-modal-content,
    .registration-modal-content {
        background: var(--dark);
        margin: 50px auto;
        max-width: 900px;
        border-radius: 15px;
        overflow: hidden;
        position: relative;
        animation: modalSlideIn 0.3s ease;
    }
    
    @keyframes modalSlideIn {
        from {
            opacity: 0;
            transform: translateY(-50px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
    
    .course-modal-header,
    .registration-modal-header {
        padding: 30px;
        background: rgba(20, 20, 20, 0.9);
        position: relative;
    }
    
    .course-modal-close,
    .registration-modal-close {
        position: absolute;
        top: 20px;
        right: 20px;
        background: none;
        border: none;
        color: var(--light);
        font-size: 2rem;
        cursor: pointer;
        line-height: 1;
    }
    
    .course-modal-title,
    .registration-modal-title {
        font-size: 2rem;
        color: var(--light);
        margin-bottom: 10px;
    }
    
    .registration-modal-subtitle {
        color: var(--gray);
    }
    
    .course-modal-meta {
        display: flex;
        flex-wrap: wrap;
        gap: 20px;
        margin-top: 20px;
        color: var(--gray);
    }
    
    .course-modal-meta span {
        display: flex;
        align-items: center;
        gap: 5px;
    }
    
    .course-modal-meta i {
        color: var(--accent);
    }
    
    .course-modal-image {
        height: 200px;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
    .course-modal-image i {
        font-size: 100px;
        color: white;
    }
    
    .course-modal-body {
        padding: 30px;
    }
    
    .course-modal-intro {
        font-size: 1.2rem;
        color: var(--light);
        margin-bottom: 30px;
        line-height: 1.6;
    }
    
    .course-details-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 20px;
        margin-bottom: 30px;
    }
    
    .detail-item {
        background: rgba(255, 255, 255, 0.05);
        padding: 15px;
        border-radius: 8px;
        text-align: center;
    }
    
    .detail-item i {
        font-size: 24px;
        color: var(--accent);
        margin-bottom: 10px;
    }
    
    .detail-label {
        font-weight: 600;
        color: var(--light);
        margin-bottom: 5px;
        font-size: 0.9rem;
    }
    
    .detail-value {
        color: var(--gray);
        font-size: 0.9rem;
    }
    
    .curriculum-section h3,
    .instructor-section h3 {
        font-size: 1.5rem;
        color: var(--light);
        margin-bottom: 20px;
    }
    
    .curriculum-item {
        background: rgba(255, 255, 255, 0.05);
        border-radius: 8px;
        margin-bottom: 10px;
        overflow: hidden;
    }
    
    .curriculum-header {
        padding: 15px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        cursor: pointer;
        transition: background 0.3s;
    }
    
    .curriculum-header:hover {
        background: rgba(255, 255, 255, 0.1);
    }
    
    .curriculum-header h4 {
        font-size: 1rem;
        color: var(--light);
        margin: 0;
    }
    
    .curriculum-icon {
        color: var(--accent);
        transition: transform 0.3s;
    }
    
    .curriculum-item.active .curriculum-icon {
        transform: rotate(180deg);
    }
    
    .curriculum-content {
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.3s;
    }
    
    .curriculum-item.active .curriculum-content {
        max-height: 500px;
    }
    
    .curriculum-lessons {
        list-style: none;
        padding: 0 15px 15px;
        margin: 0;
    }
    
    .curriculum-lessons li {
        padding: 10px 0;
        color: var(--gray);
        display: flex;
        align-items: center;
        gap: 10px;
        border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    }
    
    .curriculum-lessons li:last-child {
        border-bottom: none;
    }
    
    .curriculum-lessons li i {
        color: var(--accent);
    }
    
    .instructor-info {
        display: flex;
        gap: 20px;
        align-items: center;
        background: rgba(255, 255, 255, 0.05);
        padding: 20px;
        border-radius: 8px;
    }
    
    .instructor-avatar {
        width: 80px;
        height: 80px;
        background: var(--accent);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
    .instructor-avatar i {
        font-size: 40px;
        color: var(--dark);
    }
    
    .instructor-details h4 {
        font-size: 1.3rem;
        color: var(--light);
        margin-bottom: 10px;
    }
    
    .instructor-details p {
        color: var(--gray);
        line-height: 1.6;
    }
    
    .enrollment-section {
        background: linear-gradient(135deg, var(--accent), var(--secondary));
        padding: 30px;
        border-radius: 10px;
        text-align: center;
        margin-top: 40px;
    }
    
    .enrollment-price {
        font-size: 3rem;
        font-weight: bold;
        color: var(--dark);
        margin-bottom: 10px;
    }
    
    .enrollment-price span {
        font-size: 1.5rem;
        color: rgba(0, 0, 0, 0.7);
        text-decoration: line-through;
        margin-left: 10px;
    }
    
    .enrollment-details {
        color: rgba(0, 0, 0, 0.8);
        margin-bottom: 20px;
        font-size: 1.1rem;
    }
    
    .enrollment-button {
        padding: 15px 40px;
        background: var(--dark);
        color: white;
        border: none;
        border-radius: 5px;
        font-size: 1.1rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s;
    }
    
    .enrollment-button:hover {
        background: rgba(0, 0, 0, 0.9);
        transform: translateY(-2px);
    }
    
    .registration-modal-body {
        padding: 30px;
    }
    
    .registration-form {
        display: flex;
        flex-direction: column;
        gap: 20px;
    }
    
    .payment-summary {
        background: rgba(255, 255, 255, 0.05);
        padding: 20px;
        border-radius: 8px;
        margin: 20px 0;
    }
    
    .payment-item {
        display: flex;
        justify-content: space-between;
        padding: 10px 0;
        color: var(--gray);
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .payment-total {
        display: flex;
        justify-content: space-between;
        padding: 15px 0 0;
        color: var(--light);
        font-weight: bold;
        font-size: 1.2rem;
    }
    
    .submit-registration {
        padding: 15px;
        background: var(--accent);
        color: var(--dark);
        border: none;
        border-radius: 5px;
        font-size: 1.1rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s;
    }
    
    .submit-registration:hover {
        background: #00e68a;
        transform: translateY(-2px);
    }
    
    .toast {
        position: fixed;
        top: 20px;
        right: 20px;
        background: var(--accent);
        color: var(--dark);
        padding: 15px 25px;
        border-radius: 8px;
        z-index: 9999;
        font-weight: 600;
        transform: translateX(100%);
        transition: transform 0.3s;
    }
    
    .toast.show {
        transform: translateX(0);
    }
    
    @media (max-width: 768px) {
        .courses-hero h1 {
            font-size: 2.5rem;
        }
        
        .courses-grid {
            grid-template-columns: 1fr;
        }
        
        .course-modal-content,
        .registration-modal-content {
            margin: 20px;
        }
        
        .filter-btn {
            padding: 8px 15px;
            font-size: 0.9rem;
        }
    }
</style>
{% endblock %}

{% block content %}
    <!-- Courses Hero -->
    <section class="courses-hero">
        <div class="container">
            <h1>Master the Future of Technology</h1>
            <p>Learn from industry experts with hands-on projects, live sessions, and career support. Start your journey today with our comprehensive coding courses.</p>
            <div class="hero-stats">
                <div class="hero-stat">
                    <div class="hero-stat-number">50+</div>
                    <div class="hero-stat-label">Courses Available</div>
                </div>
                <div class="hero-stat">
                    <div class="hero-stat-number">10K+</div>
                    <div class="hero-stat-label">Students Enrolled</div>
                </div>
                <div class="hero-stat">
                    <div class="hero-stat-number">98%</div>
                    <div class="hero-stat-label">Satisfaction Rate</div>
                </div>
                <div class="hero-stat">
                    <div class="hero-stat-number">500+</div>
                    <div class="hero-stat-label">Expert Instructors</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Courses Section -->
    <section class="courses-section">
        <div class="container">
            <div class="section-title">
                <h2>Explore Our Courses</h2>
                <p>Choose from a wide range of cutting-edge technology courses designed for all skill levels</p>
            </div>
            
            <div class="courses-filter">
                <button class="filter-btn active" data-filter="all">All Courses</button>
                <button class="filter-btn" data-filter="beginner">Beginner</button>
                <button class="filter-btn" data-filter="intermediate">Intermediate</button>
                <button class="filter-btn" data-filter="advanced">Advanced</button>
                <button class="filter-btn" data-filter="python">Python</button>
                <button class="filter-btn" data-filter="javascript">JavaScript</button>
                <button class="filter-btn" data-filter="iot">IoT</button>
                <button class="filter-btn" data-filter="ai">AI & ML</button>
                <button class="filter-btn" data-filter="scratch">Scratch for Kids</button>
            </div>
            
            <div class="courses-grid" id="courses-container">
                <!-- Course cards will be populated by JavaScript -->
            </div>
        </div>
    </section>

    <!-- Learning Platform -->
    <section class="learning-platform">
        <div class="container">
            <div class="section-title">
                <h2>Why Learn With BlackCodeLabs?</h2>
                <p>Our platform is designed to give you the best learning experience with cutting-edge features</p>
            </div>
            
            <div class="platform-features">
                <div class="platform-feature">
                    <i class="fas fa-laptop-code"></i>
                    <h3>Live Online Classes</h3>
                    <p>Interactive sessions with industry experts and real-time Q&A opportunities.</p>
                </div>
                
                <div class="platform-feature">
                    <i class="fas fa-project-diagram"></i>
                    <h3>Hands-on Projects</h3>
                    <p>Build real-world applications and add them to your professional portfolio.</p>
                </div>
                
                <div class="platform-feature">
                    <i class="fas fa-certificate"></i>
                    <h3>Industry Certifications</h3>
                    <p>Earn recognized certificates that boost your resume and career prospects.</p>
                </div>
                
                <div class="platform-feature">
                    <i class="fas fa-user-tie"></i>
                    <h3>Career Support</h3>
                    <p>Get career guidance, interview preparation, and job placement assistance.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Course Details Modal -->
    <div class="course-modal" id="courseModal">
        <div class="course-modal-content">
            <div class="course-modal-header">
                <button class="course-modal-close" id="closeCourseModal">&times;</button>
                <h1 class="course-modal-title" id="modalCourseTitle">Python Masterclass</h1>
                <div class="course-modal-meta" id="modalCourseMeta">
                    <span><i class="fas fa-clock"></i> <span id="modalDuration">12 Weeks</span></span>
                    <span><i class="fas fa-signal"></i> <span id="modalLevel">Beginner to Advanced</span></span>
                    <span><i class="fas fa-users"></i> <span id="modalStudents">2450 students</span></span>
                    <span><i class="fas fa-star"></i> <span id="modalRating">4.9 (1200 reviews)</span></span>
                </div>
            </div>
            
            <div class="course-modal-image">
                <i class="fab fa-python" id="modalCourseIcon"></i>
            </div>
            
            <div class="course-modal-body">
                <div class="course-modal-intro" id="modalCourseIntro">
                    Master Python programming from basics to advanced concepts with hands-on projects.
                </div>
                
                <div class="course-details-grid" id="modalCourseDetails">
                    <!-- Filled by JavaScript -->
                </div>
                
                <div class="curriculum-section" id="curriculumSection">
                    <h3>Course Curriculum</h3>
                    <!-- Filled by JavaScript -->
                </div>
                
                <div class="instructor-section">
                    <h3>About the Instructor</h3>
                    <div class="instructor-info">
                        <div class="instructor-avatar">
                            <i class="fas fa-user-tie"></i>
                        </div>
                        <div class="instructor-details">
                            <h4 id="modalInstructorName">Dr. Alex Johnson</h4>
                            <p id="modalInstructorBio">Senior AI Engineer with 10+ years of experience in Python development and machine learning. Former lead developer at TechGiant Inc.</p>
                        </div>
                    </div>
                </div>
                
                <div class="enrollment-section">
                    <div class="enrollment-price" id="modalCoursePrice">$199 <span>$299</span></div>
                    <div class="enrollment-details" id="modalEnrollmentDetails">
                        Includes lifetime access, certificate of completion, and all future updates
                    </div>
                    <button class="enrollment-button" id="enrollButton">Enroll Now</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Registration Modal -->
    <div class="registration-modal" id="registrationModal">
        <div class="registration-modal-content">
            <div class="registration-modal-header">
                <button class="registration-modal-close" id="closeRegistrationModal">&times;</button>
                <h1 class="registration-modal-title">Enroll in <span id="registrationCourseTitle">Course</span></h1>
                <div class="registration-modal-subtitle" id="registrationCourseSubtitle">Complete the form below to register for this course</div>
            </div>
            
            <div class="registration-modal-body">
                <form class="registration-form" id="registrationForm" method="post" action="{% url 'courses' %}">
                    {% csrf_token %}
                    <div class="form-row">
                        <div class="form-group">
                            <label for="firstName">First Name</label>
                            <input type="text" id="firstName" name="first_name" required>
                        </div>
                        <div class="form-group">
                            <label for="lastName">Last Name</label>
                            <input type="text" id="lastName" name="last_name" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="email">Email Address</label>
                        <input type="email" id="email" name="email" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="phone">Phone Number</label>
                        <input type="tel" id="phone" name="phone" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="country">Country</label>
                        <select id="country" name="country" required>
                            <option value="">Select Country</option>
                            <option value="US">United States</option>
                            <option value="UK">United Kingdom</option>
                            <option value="CA">Canada</option>
                            <option value="AU">Australia</option>
                            <!-- More countries... -->
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="experience">Programming Experience</label>
                        <select id="experience" name="experience" required>
                            <option value="">Select Experience Level</option>
                            <option value="beginner">Beginner (0-1 years)</option>
                            <option value="intermediate">Intermediate (1-3 years)</option>
                            <option value="advanced">Advanced (3+ years)</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="goals">What are your learning goals?</label>
                        <textarea id="goals" name="goals" placeholder="Tell us what you hope to achieve with this course..."></textarea>
                    </div>
                    
                    <div class="payment-summary">
                        <h4>Order Summary</h4>
                        <div class="payment-item">
                            <span>Course Fee:</span>
                            <span id="courseFee">$199.00</span>
                        </div>
                        <div class="payment-item">
                            <span>Platform Fee:</span>
                            <span>$10.00</span>
                        </div>
                        <div class="payment-item">
                            <span>Tax:</span>
                            <span id="taxAmount">$20.89</span>
                        </div>
                        <div class="payment-total">
                            <span>Total:</span>
                            <span id="totalAmount">$229.89</span>
                        </div>
                    </div>
                    
                    <button type="submit" class="submit-registration">Complete Enrollment & Pay</button>
                </form>
            </div>
        </div>
    </div>
{% endblock %}

{% block extra_js %}
<script>
    // Courses JavaScript - Modified for Django
    const courses = [
        {
            id: 1,
            title: "Python Masterclass",
            category: "python",
            level: "beginner",
            badge: "popular",
            icon: "fab fa-python",
            description: "Master Python programming from basics to advanced concepts with hands-on projects and real-world applications.",
            duration: "12 Weeks",
            lessons: "48 Lessons",
            students: "2450",
            rating: "4.9",
            instructor: "Dr. Alex Johnson",
            price: 199,
            originalPrice: 299,
            color: "#3776AB",
            details: {
                "Mode": "Online Live Classes",
                "Schedule": "Mon & Wed, 7-9 PM EST",
                "Projects": "5 Real-world Projects",
                "Support": "24/7 Mentor Support"
            },
            curriculum: [
                {
                    title: "Week 1-3: Python Fundamentals",
                    lessons: [
                        "Introduction to Python",
                        "Variables and Data Types",
                        "Control Structures",
                        "Functions and Modules",
                        "File Handling"
                    ]
                },
                {
                    title: "Week 4-6: Object-Oriented Programming",
                    lessons: [
                        "Classes and Objects",
                        "Inheritance and Polymorphism",
                        "Encapsulation and Abstraction",
                        "Advanced OOP Concepts"
                    ]
                },
                {
                    title: "Week 7-10: Advanced Python",
                    lessons: [
                        "Decorators and Generators",
                        "Context Managers",
                        "Multithreading and Multiprocessing",
                        "Network Programming"
                    ]
                },
                {
                    title: "Week 11-12: Final Project",
                    lessons: [
                        "Project Planning",
                        "Building a Complete Application",
                        "Testing and Debugging",
                        "Deployment",
                        "Presentation"
                    ]
                }
            ]
        },
        {
            id: 2,
            title: "JavaScript & React Bootcamp",
            category: "javascript",
            level: "intermediate",
            badge: "new",
            icon: "fab fa-js-square",
            description: "Become a frontend developer by mastering JavaScript, React, and modern web development tools.",
            duration: "10 Weeks",
            lessons: "40 Lessons",
            students: "1890",
            rating: "4.8",
            instructor: "Sarah Chen",
            price: 249,
            originalPrice: 349,
            color: "#F7DF1E",
            details: {
                "Mode": "Hybrid (Online + Recorded)",
                "Schedule": "Tue & Thu, 6-8 PM EST",
                "Projects": "8 Portfolio Projects",
                "Support": "Code Review Sessions"
            }
        },
        {
            id: 3,
            title: "IoT Development with Arduino",
            category: "iot",
            level: "beginner",
            badge: "",
            icon: "fas fa-microchip",
            description: "Learn to build Internet of Things devices with Arduino, sensors, and cloud integration.",
            duration: "8 Weeks",
            lessons: "32 Lessons",
            students: "1250",
            rating: "4.7",
            instructor: "Michael Rodriguez",
            price: 179,
            originalPrice: 249,
            color: "#00979C",
            details: {
                "Mode": "Online with Kit",
                "Schedule": "Weekend Workshops",
                "Projects": "3 Hardware Projects",
                "Support": "Hardware Troubleshooting"
            }
        },
        {
            id: 4,
            title: "Advanced React & Node.js",
            category: "javascript",
            level: "advanced",
            badge: "advanced",
            icon: "fab fa-node-js",
            description: "Build full-stack applications with React, Node.js, Express, and MongoDB.",
            duration: "14 Weeks",
            lessons: "56 Lessons",
            students: "980",
            rating: "4.9",
            instructor: "David Wilson",
            price: 299,
            originalPrice: 399,
            color: "#68A063",
            details: {
                "Mode": "Online Live Classes",
                "Schedule": "Mon, Wed, Fri 8-10 PM EST",
                "Projects": "Full-stack Applications",
                "Support": "Career Guidance"
            }
        },
        {
            id: 5,
            title: "AI & Machine Learning Fundamentals",
            category: "ai",
            level: "intermediate",
            badge: "popular",
            icon: "fas fa-robot",
            description: "Introduction to AI and ML concepts with Python, TensorFlow, and real-world datasets.",
            duration: "16 Weeks",
            lessons: "64 Lessons",
            students: "2100",
            rating: "4.8",
            instructor: "Dr. Priya Sharma",
            price: 349,
            originalPrice: 449,
            color: "#FF6B6B",
            details: {
                "Mode": "Online with Labs",
                "Schedule": "Weekend Intensive",
                "Projects": "ML Models & Deployments",
                "Support": "Research Paper Guidance"
            }
        },
        {
            id: 6,
            title: "IoT with Raspberry Pi & Python",
            category: "iot",
            level: "intermediate",
            badge: "",
            icon: "fas fa-server",
            description: "Advanced IoT course focusing on Raspberry Pi, Python, and home automation projects.",
            duration: "10 Weeks",
            lessons: "40 Lessons",
            students: "870",
            rating: "4.6",
            instructor: "Robert Kim",
            price: 229,
            originalPrice: 299,
            color: "#C51A4A",
            details: {
                "Mode": "Online with Kit",
                "Schedule": "Flexible with Recordings",
                "Projects": "Smart Home System",
                "Support": "Community Forum Access"
            }
        },
        {
            id: 7,
            title: "Data Science with Python",
            category: "python",
            level: "intermediate",
            badge: "new",
            icon: "fas fa-chart-line",
            description: "Master data analysis, visualization, and statistical modeling with Python libraries.",
            duration: "12 Weeks",
            lessons: "48 Lessons",
            students: "1650",
            rating: "4.7",
            instructor: "Jennifer Lee",
            price: 279,
            originalPrice: 349,
            color: "#4B8BBE",
            details: {
                "Mode": "Online Live Classes",
                "Schedule": "Tue & Thu, 7-9 PM EST",
                "Projects": "Data Analysis Projects",
                "Support": "Dataset Access"
            }
        },
        {
            id: 8,
            title: "IoT Security & Ethical Hacking",
            category: "iot",
            level: "advanced",
            badge: "advanced",
            icon: "fas fa-shield-alt",
            description: "Learn to secure IoT devices and networks against cyber threats and vulnerabilities.",
            duration: "8 Weeks",
            lessons: "32 Lessons",
            students: "540",
            rating: "4.9",
            instructor: "Kevin O'Brien",
            price: 319,
            originalPrice: 399,
            color: "#2E8B57",
            details: {
                "Mode": "Online with Virtual Labs",
                "Schedule": "Weekend Intensive",
                "Projects": "Security Audits",
                "Support": "Certification Prep"
            }
        },
        {
            id: 9,
            title: "Scratch Programming for Kids",
            category: "scratch",
            level: "beginner",
            badge: "kids",
            icon: "fas fa-gamepad",
            description: "Introduce children to coding through fun, visual programming with Scratch. Create games, animations, and interactive stories.",
            duration: "6 Weeks",
            lessons: "24 Lessons",
            students: "3200",
            rating: "4.9",
            instructor: "Ms. Emily Carter",
            price: 99,
            originalPrice: 149,
            color: "#FF8C42",
            details: {
                "Age Group": "8-12 Years",
                "Format": "Game-based Learning",
                "Projects": "10+ Fun Projects",
                "Support": "Weekly Progress Reports"
            },
            curriculum: [
                {
                    title: "Week 1: Scratch Basics & First Project",
                    lessons: [
                        "Introduction to Scratch Interface",
                        "Meet the Sprite Characters",
                        "Creating Your First Animation",
                        "Adding Sounds and Music",
                        "Save and Share Your Project"
                    ]
                },
                {
                    title: "Week 2: Animation & Storytelling",
                    lessons: [
                        "Creating Animated Stories",
                        "Character Movement & Dialogues",
                        "Scene Transitions",
                        "Adding Background Music",
                        "Interactive Story Project"
                    ]
                },
                {
                    title: "Week 3: Game Development Basics",
                    lessons: [
                        "Design Your First Game",
                        "Score Keeping & Variables",
                        "Game Controls (Keyboard/Mouse)",
                        "Win/Lose Conditions",
                        "Maze Runner Game Project"
                    ]
                },
                {
                    title: "Week 4: Advanced Games",
                    lessons: [
                        "Creating Multiple Levels",
                        "Power-ups and Bonuses",
                        "Enemy AI Basics",
                        "Game Physics (Gravity, Bouncing)",
                        "Space Adventure Game"
                    ]
                },
                {
                    title: "Week 5: Art & Music Projects",
                    lessons: [
                        "Digital Drawing with Scratch",
                        "Creating Music Beats",
                        "Dance Party Animation",
                        "Interactive Art Gallery",
                        "Virtual Band Project"
                    ]
                },
                {
                    title: "Week 6: Final Project & Showcase",
                    lessons: [
                        "Planning Your Own Game",
                        "Combining All Skills",
                        "Debugging & Testing",
                        "Polishing Your Project",
                        "Virtual Showcase Day"
                    ]
                }
            ]
        }
    ];

    // DOM Elements
    const coursesContainer = document.getElementById('courses-container');
    const courseModal = document.getElementById('courseModal');
    const registrationModal = document.getElementById('registrationModal');
    const closeCourseModal = document.getElementById('closeCourseModal');
    const closeRegistrationModal = document.getElementById('closeRegistrationModal');
    const filterButtons = document.querySelectorAll('.filter-btn');
    const enrollButton = document.getElementById('enrollButton');
    const registrationForm = document.getElementById('registrationForm');
    const courseFeeElement = document.getElementById('courseFee');
    const taxAmountElement = document.getElementById('taxAmount');
    const totalAmountElement = document.getElementById('totalAmount');
    const registrationCourseTitle = document.getElementById('registrationCourseTitle');
    const registrationCourseSubtitle = document.getElementById('registrationCourseSubtitle');

    // Current selected course
    let currentCourse = null;

    // Initialize courses
    function initCourses() {
        renderCourses(courses);
        setupEventListeners();
    }

    // Render courses to the DOM
    function renderCourses(coursesToRender) {
        coursesContainer.innerHTML = '';
        
        coursesToRender.forEach(course => {
            const courseCard = document.createElement('div');
            courseCard.className = `course-card ${course.category} ${course.level}`;
            courseCard.setAttribute('data-id', course.id);
            
            let badgeHTML = '';
            if (course.badge) {
                let badgeText = '';
                if (course.badge === 'popular') badgeText = 'Most Popular';
                else if (course.badge === 'new') badgeText = 'New';
                else if (course.badge === 'advanced') badgeText = 'Advanced';
                else if (course.badge === 'kids') badgeText = 'For Kids';
                
                badgeHTML = `<div class="course-badge ${course.badge}">${badgeText}</div>`;
            }
            
            courseCard.innerHTML = `
                ${badgeHTML}
                <div class="course-image" style="background: linear-gradient(45deg, ${course.color}, var(--space-blue))">
                    <i class="${course.icon}"></i>
                </div>
                <div class="course-content">
                    <div class="course-category">${course.category.toUpperCase()}</div>
                    <h3 class="course-title">${course.title}</h3>
                    <p class="course-description">${course.description}</p>
                    <div class="course-meta">
                        <div class="course-meta-item">
                            <i class="fas fa-clock"></i>
                            <span>${course.duration}</span>
                        </div>
                        <div class="course-meta-item">
                            <i class="fas fa-book"></i>
                            <span>${course.lessons}</span>
                        </div>
                        <div class="course-meta-item">
                            <i class="fas fa-signal"></i>
                            <span>${course.level}</span>
                        </div>
                    </div>
                    <div class="course-footer">
                        <div class="course-price">$${course.price} <span>$${course.originalPrice}</span></div>
                        <button class="course-button view-course" data-id="${course.id}">View Course</button>
                    </div>
                </div>
            `;
            
            coursesContainer.appendChild(courseCard);
        });
        
        // Add event listeners to view buttons
        document.querySelectorAll('.view-course').forEach(button => {
            button.addEventListener('click', (e) => {
                const courseId = parseInt(e.target.getAttribute('data-id'));
                openCourseModal(courseId);
            });
        });
    }

    // Open course modal
    function openCourseModal(courseId) {
        currentCourse = courses.find(course => course.id === courseId);
        
        if (currentCourse) {
            // Update modal content
            document.getElementById('modalCourseTitle').textContent = currentCourse.title;
            document.getElementById('modalCourseIcon').className = currentCourse.icon;
            document.getElementById('modalCourseIntro').textContent = currentCourse.description;
            document.getElementById('modalDuration').textContent = currentCourse.duration;
            document.getElementById('modalLevel').textContent = currentCourse.level.charAt(0).toUpperCase() + currentCourse.level.slice(1);
            document.getElementById('modalStudents').textContent = `${currentCourse.students} students`;
            document.getElementById('modalRating').textContent = `${currentCourse.rating} (${Math.floor(currentCourse.students / 2)} reviews)`;
            document.getElementById('modalInstructorName').textContent = currentCourse.instructor;
            document.getElementById('modalCoursePrice').innerHTML = `$${currentCourse.price} <span>$${currentCourse.originalPrice}</span>`;
            
            // Update course details grid
            const detailsGrid = document.getElementById('modalCourseDetails');
            detailsGrid.innerHTML = '';
            
            for (const [key, value] of Object.entries(currentCourse.details)) {
                detailsGrid.innerHTML += `
                    <div class="detail-item">
                        <i class="fas fa-info-circle"></i>
                        <div class="detail-label">${key}</div>
                        <div class="detail-value">${value}</div>
                    </div>
                `;
            }
            
            // Add special features for Scratch course
            if (currentCourse.id === 9) {
                detailsGrid.innerHTML += `
                    <div class="detail-item">
                        <i class="fas fa-child"></i>
                        <div class="detail-label">Kid-Friendly</div>
                        <div class="detail-value">Visual Coding</div>
                    </div>
                    <div class="detail-item">
                        <i class="fas fa-trophy"></i>
                        <div class="detail-label">Certificates</div>
                        <div class="detail-value">Digital Badges</div>
                    </div>
                    <div class="detail-item">
                        <i class="fas fa-users"></i>
                        <div class="detail-label">Class Size</div>
                        <div class="detail-value">Max 8 Students</div>
                    </div>
                    <div class="detail-item">
                        <i class="fas fa-comments"></i>
                        <div class="detail-label">Parent Updates</div>
                        <div class="detail-value">Weekly Reports</div>
                    </div>
                `;
                
                // Update instructor bio for Scratch
                document.getElementById('modalInstructorBio').textContent = 
                    "Certified STEM educator with 8+ years experience teaching coding to children. Creator of 'CodeKids' program, recognized for making programming fun and accessible for young learners.";
            } else {
                // Default instructor bio
                document.getElementById('modalInstructorBio').textContent = 
                    "Senior AI Engineer with 10+ years of experience in Python development and machine learning. Former lead developer at TechGiant Inc.";
            }
            
            // Update curriculum section
            const curriculumSection = document.getElementById('curriculumSection');
            if (currentCourse.curriculum) {
                let curriculumHTML = '<h3>Course Curriculum</h3>';
                
                currentCourse.curriculum.forEach((module, index) => {
                    const isActive = index === 0 ? 'active' : '';
                    const lessonsHTML = module.lessons.map(lesson => 
                        `<li><i class="fas fa-play-circle"></i> ${lesson}</li>`
                    ).join('');
                    
                    curriculumHTML += `
                        <div class="curriculum-item ${isActive}">
                            <div class="curriculum-header">
                                <h4>${module.title}</h4>
                                <i class="fas fa-chevron-down curriculum-icon"></i>
                            </div>
                            <div class="curriculum-content">
                                <ul class="curriculum-lessons">
                                    ${lessonsHTML}
                                </ul>
                            </div>
                        </div>
                    `;
                });
                
                curriculumSection.innerHTML = curriculumHTML;
                
                // Re-initialize curriculum accordion
                setupCurriculumAccordion();
            }
            
            // Set modal image background
            document.querySelector('.course-modal-image').style.background = `linear-gradient(45deg, ${currentCourse.color}, var(--space-blue))`;
            
            // Show modal
            courseModal.classList.add('active');
            document.body.style.overflow = 'hidden';
        }
    }

    // Open registration modal
    function openRegistrationModal() {
        if (currentCourse) {
            registrationCourseTitle.textContent = currentCourse.title;
            registrationCourseSubtitle.textContent = `Complete the form below to register for ${currentCourse.title}`;
            
            // Calculate fees
            const platformFee = 10;
            const taxRate = 0.1;
            const taxAmount = (currentCourse.price + platformFee) * taxRate;
            const totalAmount = currentCourse.price + platformFee + taxAmount;
            
            courseFeeElement.textContent = `$${currentCourse.price.toFixed(2)}`;
            taxAmountElement.textContent = `$${taxAmount.toFixed(2)}`;
            totalAmountElement.textContent = `$${totalAmount.toFixed(2)}`;
            
            registrationModal.classList.add('active');
        }
    }

    // Close modals
    function closeModals() {
        courseModal.classList.remove('active');
        registrationModal.classList.remove('active');
        document.body.style.overflow = 'auto';
    }

    // Filter courses
    function filterCourses(filter) {
        filterButtons.forEach(btn => {
            if (btn.getAttribute('data-filter') === filter) {
                btn.classList.add('active');
            } else {
                btn.classList.remove('active');
            }
        });
        
        let filteredCourses = courses;
        
        if (filter !== 'all') {
            filteredCourses = courses.filter(course => 
                course.category === filter || 
                course.level === filter
            );
        }
        
        renderCourses(filteredCourses);
    }

    // Setup curriculum accordion
    function setupCurriculumAccordion() {
        document.querySelectorAll('.curriculum-header').forEach(header => {
            header.addEventListener('click', () => {
                const item = header.parentElement;
                item.classList.toggle('active');
            });
        });
    }

    // Handle form submission
    function handleRegistrationSubmit(e) {
        e.preventDefault();
        
        // Get form data
        const formData = new FormData(registrationForm);
        const data = Object.fromEntries(formData.entries());
        
        // In a Django app, this would be submitted to the server
        // For now, show success message
        showToast(`Thank you for registering, ${data.first_name}! Your enrollment in "${currentCourse.title}" has been submitted.`, 'success');
        
        // Reset form and close modal
        registrationForm.reset();
        closeModals();
    }

    // Show toast notification
    function showToast(message, type = 'success') {
        const toast = document.createElement('div');
        toast.className = `toast ${type}`;
        toast.textContent = message;
        toast.style.cssText = `
            position: fixed;
            top: 20px;
            right: 20px;
            background: ${type === 'success' ? 'var(--accent)' : '#ff6b6b'};
            color: ${type === 'success' ? 'var(--dark)' : 'white'};
            padding: 15px 25px;
            border-radius: 10px;
            z-index: 9999;
            transform: translateX(100%);
            transition: transform 0.3s;
            font-weight: 600;
        `;
        
        document.body.appendChild(toast);
        
        setTimeout(() => {
            toast.style.transform = 'translateX(0)';
        }, 100);
        
        setTimeout(() => {
            toast.style.transform = 'translateX(100%)';
            setTimeout(() => {
                document.body.removeChild(toast);
            }, 300);
        }, 3000);
    }

    // Setup event listeners
    function setupEventListeners() {
        // Filter buttons
        filterButtons.forEach(button => {
            button.addEventListener('click', () => {
                const filter = button.getAttribute('data-filter');
                filterCourses(filter);
            });
        });
        
        // Close modals
        closeCourseModal.addEventListener('click', closeModals);
        closeRegistrationModal.addEventListener('click', closeModals);
        
        // Close modals when clicking outside
        courseModal.addEventListener('click', (e) => {
            if (e.target === courseModal) {
                closeModals();
            }
        });
        
        registrationModal.addEventListener('click', (e) => {
            if (e.target === registrationModal) {
                closeModals();
            }
        });
        
        // Enroll button
        enrollButton.addEventListener('click', openRegistrationModal);
        
        // Form submission
        registrationForm.addEventListener('submit', handleRegistrationSubmit);
        
        // Close modal with Escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                closeModals();
            }
        });
    }

    // Initialize when DOM is loaded
    document.addEventListener('DOMContentLoaded', initCourses);
</script>
{% endblock %}