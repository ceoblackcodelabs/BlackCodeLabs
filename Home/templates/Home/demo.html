{% extends 'Home/base.html' %}
{% load static %}

{% block title %}Contact & Schedule Demo | BlackCodeLabs{% endblock %}

{% block extra_css %}
<style>
    /* Contact-specific styles */
    .contact-content {
        display: grid;
        grid-template-columns: 1fr 1.5fr;
        gap: 40px;
        margin-top: 40px;
    }
    
    .contact-info {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 20px;
    }
    
    .info-card {
        background: rgba(20, 20, 20, 0.8);
        padding: 25px;
        border-radius: 10px;
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        transition: transform 0.3s;
    }
    
    .info-card:hover {
        transform: translateY(-5px);
        border-color: rgba(0, 255, 136, 0.3);
    }
    
    .info-icon {
        font-size: 30px;
        color: var(--accent);
        margin-bottom: 15px;
    }
    
    .info-card h3 {
        font-size: 1.3rem;
        margin-bottom: 15px;
        color: var(--light);
    }
    
    .info-card p {
        color: var(--gray);
        margin: 8px 0;
        font-size: 0.95rem;
    }
    
    .contact-form-container {
        background: rgba(20, 20, 20, 0.8);
        padding: 30px;
        border-radius: 15px;
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .contact-form-header {
        margin-bottom: 30px;
        text-align: center;
    }
    
    .contact-form-header h3 {
        font-size: 1.8rem;
        margin-bottom: 10px;
        color: var(--light);
    }
    
    .contact-form-header p {
        color: var(--gray);
    }
    
    .contact-form {
        display: flex;
        flex-direction: column;
        gap: 20px;
    }
    
    .form-row {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
    }
    
    .form-group {
        display: flex;
        flex-direction: column;
    }
    
    .form-group label {
        color: var(--light);
        margin-bottom: 8px;
        font-weight: 500;
        font-size: 0.95rem;
    }
    
    .form-group input,
    .form-group select,
    .form-group textarea {
        padding: 12px 15px;
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 5px;
        color: var(--light);
        font-size: 1rem;
        transition: border-color 0.3s;
    }
    
    .form-group input:focus,
    .form-group select:focus,
    .form-group textarea:focus {
        outline: none;
        border-color: var(--accent);
        background: rgba(255, 255, 255, 0.08);
    }
    
    .form-group input.error,
    .form-group select.error,
    .form-group textarea.error {
        border-color: var(--error);
    }
    
    .checkbox-group {
        flex-direction: row;
        align-items: center;
        gap: 10px;
    }
    
    .checkbox-group input[type="checkbox"] {
        width: auto;
    }
    
    .checkbox-group label {
        margin-bottom: 0;
        font-size: 0.9rem;
        color: var(--gray);
    }
    
    .submit-button {
        padding: 15px 30px;
        background: var(--accent);
        color: var(--dark);
        border: none;
        border-radius: 5px;
        font-size: 1.1rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
    }
    
    .submit-button:hover {
        background: #00e68a;
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(0, 255, 136, 0.3);
    }
    
    .offices-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 30px;
        margin: 40px 0;
    }
    
    .office-card {
        background: rgba(20, 20, 20, 0.8);
        padding: 30px;
        border-radius: 10px;
        text-align: center;
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        transition: transform 0.3s;
    }
    
    .office-card:hover {
        transform: translateY(-5px);
        border-color: rgba(0, 255, 136, 0.3);
    }
    
    .office-icon {
        font-size: 40px;
        color: var(--accent);
        margin-bottom: 20px;
    }
    
    .office-card h3 {
        font-size: 1.4rem;
        margin-bottom: 15px;
        color: var(--light);
    }
    
    .office-card p {
        color: var(--gray);
        margin: 8px 0;
    }
    
    .office-contact {
        margin-top: 20px;
        padding-top: 20px;
        border-top: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .office-contact p {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
        font-size: 0.9rem;
    }
    
    .office-contact i {
        color: var(--accent);
    }
    
    .map-placeholder {
        background: linear-gradient(135deg, var(--space-blue), var(--darker));
        border-radius: 15px;
        padding: 60px 40px;
        text-align: center;
        margin-top: 40px;
        position: relative;
        overflow: hidden;
    }
    
    .map-placeholder::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: 
            radial-gradient(circle at 30% 20%, rgba(0, 255, 136, 0.1) 0%, transparent 50%),
            radial-gradient(circle at 70% 80%, rgba(110, 59, 206, 0.1) 0%, transparent 50%);
        z-index: 0;
    }
    
    .map-content {
        position: relative;
        z-index: 1;
    }
    
    .map-content i {
        font-size: 60px;
        color: var(--accent);
        margin-bottom: 20px;
    }
    
    .map-content h3 {
        font-size: 2rem;
        margin-bottom: 15px;
        color: var(--light);
    }
    
    .map-content p {
        color: var(--gray);
        font-size: 1.1rem;
        max-width: 600px;
        margin: 0 auto 20px;
    }
    
    .demo-button {
        padding: 12px 30px;
        background: var(--light);
        color: var(--dark);
        border: none;
        border-radius: 5px;
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
    }
    
    .demo-button:hover {
        background: var(--accent);
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(0, 255, 136, 0.3);
    }
    
    .faq-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
        gap: 20px;
        margin-top: 40px;
    }
    
    .faq-item {
        background: rgba(20, 20, 20, 0.8);
        border-radius: 10px;
        overflow: hidden;
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .faq-question {
        padding: 20px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        cursor: pointer;
        transition: background 0.3s;
    }
    
    .faq-question:hover {
        background: rgba(255, 255, 255, 0.05);
    }
    
    .faq-question h3 {
        font-size: 1.1rem;
        color: var(--light);
        margin: 0;
    }
    
    .faq-question i {
        color: var(--accent);
        transition: transform 0.3s;
    }
    
    .faq-item.active .faq-question i {
        transform: rotate(180deg);
    }
    
    .faq-answer {
        padding: 0 20px;
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.3s, padding 0.3s;
    }
    
    .faq-item.active .faq-answer {
        padding: 0 20px 20px;
        max-height: 500px;
    }
    
    .faq-answer p,
    .faq-answer li {
        color: var(--gray);
        line-height: 1.6;
    }
    
    .faq-answer ul {
        padding-left: 20px;
        margin: 10px 0;
    }
    
    .toast {
        position: fixed;
        bottom: 30px;
        right: 30px;
        background: var(--dark);
        color: var(--light);
        padding: 20px 25px;
        border-radius: 10px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        border-left: 4px solid var(--accent);
        max-width: 400px;
        transform: translateY(100px);
        opacity: 0;
        transition: transform 0.3s, opacity 0.3s;
        z-index: 1000;
    }
    
    .toast.show {
        transform: translateY(0);
        opacity: 1;
    }
    
    .toast.success {
        border-left-color: var(--accent);
    }
    
    .toast.error {
        border-left-color: var(--error);
    }
    
    @media (max-width: 992px) {
        .contact-content {
            grid-template-columns: 1fr;
        }
        
        .contact-info {
            grid-template-columns: 1fr;
        }
    }
    
    @media (max-width: 768px) {
        .form-row {
            grid-template-columns: 1fr;
        }
        
        .faq-grid {
            grid-template-columns: 1fr;
        }
    }
</style>
{% endblock %}

{% block content %}
    <!-- Page Header -->
    <section class="page-header">
        <div class="container">
            <h1>Contact & Schedule a Demo</h1>
            <p>Experience our technology solutions firsthand. Book a personalized demo or get in touch with our team.</p>
        </div>
    </section>

    <!-- Demo Scheduling Section -->
    <section class="contact" id="demo-form">
        <div class="container">
            <div class="section-title">
                <h2>Schedule a Personalized Demo</h2>
                <p>See our solutions in action. Select a convenient time for your personalized demonstration.</p>
            </div>
            
            <div class="contact-content">
                <div class="contact-info">
                    <div class="info-card">
                        <div class="info-icon">
                            <i class="fas fa-video"></i>
                        </div>
                        <h3>Demo Details</h3>
                        <p>• 45-minute personalized session</p>
                        <p>• Live solution walkthrough</p>
                        <p>• Q&A with our experts</p>
                        <p>• No commitment required</p>
                    </div>
                    
                    <div class="info-card">
                        <div class="info-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <h3>Available Times</h3>
                        <p>Monday - Friday</p>
                        <p>9:00 AM - 6:00 PM EST</p>
                        <p>Weekend by appointment</p>
                        <p>Time slots every 30 minutes</p>
                    </div>
                    
                    <div class="info-card">
                        <div class="info-icon">
                            <i class="fas fa-headset"></i>
                        </div>
                        <h3>Support Available</h3>
                        <p>Pre-demo consultation</p>
                        <p>Technical requirements check</p>
                        <p>Dedicated account manager</p>
                        <p>Follow-up materials</p>
                    </div>
                    
                    <div class="info-card">
                        <div class="info-icon">
                            <i class="fas fa-calendar-check"></i>
                        </div>
                        <h3>What to Expect</h3>
                        <p>Calendar confirmation</p>
                        <p>Meeting link email</p>
                        <p>Preparation materials</p>
                        <p>Post-demo resources</p>
                    </div>
                </div>
                
                <div class="contact-form-container">
                    <div class="contact-form-header">
                        <h3>Book Your Demo Session</h3>
                        <p>Fill in the details below to schedule your personalized technology demonstration.</p>
                    </div>
                    
                    <form class="contact-form" id="demoForm" method="post" action="{% url 'contact' %}">
                        {% csrf_token %}
                        <div class="form-row">
                            <div class="form-group">
                                <label for="firstName">First Name *</label>
                                <input type="text" id="firstName" name="first_name" required placeholder="Enter your first name">
                            </div>
                            <div class="form-group">
                                <label for="lastName">Last Name *</label>
                                <input type="text" id="lastName" name="last_name" required placeholder="Enter your last name">
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="email">Email Address *</label>
                            <input type="email" id="email" name="email" required placeholder="your.email@company.com">
                        </div>
                        
                        <div class="form-group">
                            <label for="company">Company / Organization *</label>
                            <input type="text" id="company" name="company" required placeholder="Your company name">
                        </div>
                        
                        <div class="form-group">
                            <label for="jobTitle">Job Title *</label>
                            <input type="text" id="jobTitle" name="job_title" required placeholder="Your position">
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="demoDate">Demo Date *</label>
                                <input type="date" id="demoDate" name="demo_date" required>
                            </div>
                            <div class="form-group">
                                <label for="demoTime">Preferred Time *</label>
                                <select id="demoTime" name="demo_time" required>
                                    <option value="">Select time slot</option>
                                    <option value="09:00">9:00 AM</option>
                                    <option value="09:30">9:30 AM</option>
                                    <option value="10:00">10:00 AM</option>
                                    <option value="10:30">10:30 AM</option>
                                    <option value="11:00">11:00 AM</option>
                                    <option value="11:30">11:30 AM</option>
                                    <option value="12:00">12:00 PM</option>
                                    <option value="13:00">1:00 PM</option>
                                    <option value="13:30">1:30 PM</option>
                                    <option value="14:00">2:00 PM</option>
                                    <option value="14:30">2:30 PM</option>
                                    <option value="15:00">3:00 PM</option>
                                    <option value="15:30">3:30 PM</option>
                                    <option value="16:00">4:00 PM</option>
                                    <option value="16:30">4:30 PM</option>
                                    <option value="17:00">5:00 PM</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="demoTitle">Meeting Title / Topic *</label>
                            <input type="text" id="demoTitle" name="demo_title" required placeholder="E.g., Automation Solution Demo">
                        </div>
                        
                        <div class="form-group">
                            <label for="serviceType">Service of Interest (Optional)</label>
                            <select id="serviceType" name="service_type">
                                <option value="">Select a service</option>
                                <option value="automation">Process Automation</option>
                                <option value="ai">AI Solutions</option>
                                <option value="development">Custom Development</option>
                                <option value="data">Data Intelligence</option>
                                <option value="security">Security Solutions</option>
                                <option value="training">Technology Training</option>
                                <option value="consulting">Consulting</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="demoMessage">Specific Requirements or Questions</label>
                            <textarea id="demoMessage" name="demo_message" rows="5" placeholder="Please share any specific requirements, challenges, or questions you'd like us to address during the demo..."></textarea>
                        </div>
                        
                        <div class="form-group checkbox-group">
                            <input type="checkbox" id="terms" name="terms" required>
                            <label for="terms">I agree to receive calendar invites and follow-up communications regarding this demo</label>
                        </div>
                        
                        <button type="submit" class="submit-button">
                            <i class="fas fa-calendar-check"></i> Schedule Demo
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- Quick Contact Section -->
    <section class="map-section">
        <div class="container">
            <div class="section-title">
                <h2>Contact Our Teams</h2>
                <p>Reach out directly to our specialized departments</p>
            </div>
            
            <div class="offices-grid">
                <div class="office-card">
                    <div class="office-icon">
                        <i class="fas fa-rocket"></i>
                    </div>
                    <h3>Sales & Demos</h3>
                    <p>New business inquiries</p>
                    <p>Product demonstrations</p>
                    <p>Solution pricing</p>
                    <div class="office-contact">
                        <p><i class="fas fa-phone"></i> +1 (555) 123-4567</p>
                        <p><i class="fas fa-envelope"></i> sales@BlackCodeLabs.com</p>
                    </div>
                </div>
                
                <div class="office-card">
                    <div class="office-icon">
                        <i class="fas fa-life-ring"></i>
                    </div>
                    <h3>Technical Support</h3>
                    <p>Existing customers</p>
                    <p>Technical assistance</p>
                    <p>System troubleshooting</p>
                    <div class="office-contact">
                        <p><i class="fas fa-phone"></i> +1 (555) 987-6543</p>
                        <p><i class="fas fa-envelope"></i> support@BlackCodeLabs.com</p>
                    </div>
                </div>
                
                <div class="office-card">
                    <div class="office-icon">
                        <i class="fas fa-handshake"></i>
                    </div>
                    <h3>Partnerships</h3>
                    <p>Technology partners</p>
                    <p>Integration requests</p>
                    <p>Reseller programs</p>
                    <div class="office-contact">
                        <p><i class="fas fa-phone"></i> +1 (555) 234-5678</p>
                        <p><i class="fas fa-envelope"></i> partners@BlackCodeLabs.com</p>
                    </div>
                </div>
                
                <div class="office-card">
                    <div class="office-icon">
                        <i class="fas fa-briefcase"></i>
                    </div>
                    <h3>Careers</h3>
                    <p>Job opportunities</p>
                    <p>Internship programs</p>
                    <p>Talent acquisition</p>
                    <div class="office-contact">
                        <p><i class="fas fa-phone"></i> +1 (555) 345-6789</p>
                        <p><i class="fas fa-envelope"></i> careers@BlackCodeLabs.com</p>
                    </div>
                </div>
            </div>
            
            <div class="map-placeholder">
                <div class="map-content">
                    <i class="fas fa-comments"></i>
                    <h3>Live Chat Available</h3>
                    <p>Chat with our team in real-time for immediate assistance</p>
                    <button class="demo-button" style="margin-top: 20px;">
                        <i class="fas fa-comment-dots"></i> Start Live Chat
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- FAQ Section -->
    <section class="faq">
        <div class="container">
            <div class="section-title">
                <h2>Demo & Contact FAQs</h2>
                <p>Common questions about booking and attending demos</p>
            </div>
            
            <div class="faq-grid">
                <div class="faq-item">
                    <div class="faq-question">
                        <h3>What happens after I book a demo?</h3>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="faq-answer">
                        <p>You'll receive an immediate email confirmation with your demo details. Our team will reach out within 1 business day to confirm technical requirements and send any preparation materials. A calendar invitation with the meeting link will be sent 24 hours before your scheduled time.</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question">
                        <h3>Can I reschedule my demo?</h3>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="faq-answer">
                        <p>Yes, you can reschedule up to 4 hours before your scheduled demo time. Simply reply to your confirmation email or contact our sales team. We'll help you find a new time that works for your schedule.</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question">
                        <h3>What preparation is needed for the demo?</h3>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="faq-answer">
                        <p>No special preparation is required. We recommend having a stable internet connection and a quiet environment. Our team will send any specific requirements based on the solutions you're interested in. Feel free to prepare questions about your specific use cases.</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question">
                        <h3>How many people can attend the demo?</h3>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="faq-answer">
                        <p>We recommend 2-5 key stakeholders to ensure productive discussion. There's no strict limit - we can accommodate larger groups. Please let us know in advance if you'll have more than 10 attendees so we can prepare accordingly.</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question">
                        <h3>What if I need a customized demo?</h3>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="faq-answer">
                        <p>We specialize in customized demos! Mention your specific requirements in the "Specific Requirements" field when booking, or contact our sales team directly. We'll tailor the demonstration to show how our solutions address your unique challenges.</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question">
                        <h3>Is there a follow-up after the demo?</h3>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="faq-answer">
                        <p>Yes, within 24 hours of your demo, you'll receive a follow-up email with:</p>
                        <ul>
                            <li>Meeting summary and key points discussed</li>
                            <li>Any materials presented during the demo</li>
                            <li>Next steps and timeline</li>
                            <li>Contact information for your dedicated account manager</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="cta">
        <div class="container">
            <div class="cta-content">
                <h2>Ready to See Our Solutions in Action?</h2>
                <p>Book your personalized demo today and discover how BlackCodeLabs can transform your technology infrastructure.</p>
                <a href="#demo-form" class="cta-button">
                    <i class="fas fa-calendar-alt"></i> Schedule Your Demo Now
                </a>
            </div>
        </div>
    </section>
{% endblock %}

{% block extra_js %}
<script>
    // Demo Form and FAQ JavaScript
    document.addEventListener('DOMContentLoaded', function() {
        // Set minimum date to tomorrow
        const today = new Date();
        const tomorrow = new Date(today);
        tomorrow.setDate(today.getDate() + 1);
        
        const year = tomorrow.getFullYear();
        const month = String(tomorrow.getMonth() + 1).padStart(2, '0');
        const day = String(tomorrow.getDate()).padStart(2, '0');
        const minDate = `${year}-${month}-${day}`;
        
        const dateInput = document.getElementById('demoDate');
        if (dateInput) {
            dateInput.min = minDate;
            dateInput.value = minDate;
        }

        // Demo form submission
        const demoForm = document.getElementById('demoForm');
        if (demoForm) {
            demoForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Get form data
                const formData = {
                    firstName: document.getElementById('firstName').value,
                    lastName: document.getElementById('lastName').value,
                    email: document.getElementById('email').value,
                    company: document.getElementById('company').value,
                    jobTitle: document.getElementById('jobTitle').value,
                    demoDate: document.getElementById('demoDate').value,
                    demoTime: document.getElementById('demoTime').value,
                    demoTitle: document.getElementById('demoTitle').value,
                    serviceType: document.getElementById('serviceType').value,
                    demoMessage: document.getElementById('demoMessage').value
                };
                
                // Format date for display
                const date = new Date(formData.demoDate);
                const formattedDate = date.toLocaleDateString('en-US', { 
                    weekday: 'long', 
                    year: 'numeric', 
                    month: 'long', 
                    day: 'numeric' 
                });
                
                // Format time for display
                const time = formData.demoTime;
                const formattedTime = formatTime(time);
                
                // Show success message
                showToast(
                    `Demo scheduled successfully! We've booked your "${formData.demoTitle}" demo for ${formattedDate} at ${formattedTime}. A confirmation email has been sent to ${formData.email}.`,
                    'success'
                );
                
                // Reset form
                this.reset();
                
                // Reset date to tomorrow
                const newTomorrow = new Date();
                newTomorrow.setDate(newTomorrow.getDate() + 1);
                
                const newYear = newTomorrow.getFullYear();
                const newMonth = String(newTomorrow.getMonth() + 1).padStart(2, '0');
                const newDay = String(newTomorrow.getDate()).padStart(2, '0');
                const newMinDate = `${newYear}-${newMonth}-${newDay}`;
                
                document.getElementById('demoDate').min = newMinDate;
                document.getElementById('demoDate').value = newMinDate;
                
                // In a real Django app, you would submit the form data to the server
                // For now, we're just showing a success message
            });
        }
        
        // FAQ accordion functionality
        document.querySelectorAll('.faq-question').forEach(question => {
            question.addEventListener('click', () => {
                const item = question.parentElement;
                const allItems = document.querySelectorAll('.faq-item');
                
                // Close all other items
                allItems.forEach(otherItem => {
                    if (otherItem !== item) {
                        otherItem.classList.remove('active');
                    }
                });
                
                // Toggle current item
                item.classList.toggle('active');
            });
        });
        
        // Form validation
        if (demoForm) {
            const inputs = demoForm.querySelectorAll('input[required], select[required], textarea[required]');
            
            inputs.forEach(input => {
                input.addEventListener('blur', function() {
                    validateField(this);
                });
                
                input.addEventListener('input', function() {
                    clearError(this);
                });
            });
            
            function validateField(field) {
                if (!field.checkValidity()) {
                    let message = 'This field is required';
                    
                    if (field.type === 'email' && field.value) {
                        message = 'Please enter a valid email address';
                    }
                    
                    showFieldError(field, message);
                }
            }
            
            function showFieldError(field, message) {
                clearError(field);
                field.classList.add('error');
                
                const errorDiv = document.createElement('div');
                errorDiv.className = 'field-error';
                errorDiv.textContent = message;
                errorDiv.style.color = 'var(--error)';
                errorDiv.style.fontSize = '0.85rem';
                errorDiv.style.marginTop = '5px';
                errorDiv.style.fontWeight = '500';
                
                field.parentNode.appendChild(errorDiv);
            }
            
            function clearError(field) {
                field.classList.remove('error');
                const errorDiv = field.parentNode.querySelector('.field-error');
                if (errorDiv) {
                    errorDiv.remove();
                }
            }
            
            // Date validation
            const dateInput = document.getElementById('demoDate');
            if (dateInput) {
                dateInput.addEventListener('change', function() {
                    const selectedDate = new Date(this.value);
                    const today = new Date();
                    today.setHours(0, 0, 0, 0);
                    
                    if (selectedDate < today) {
                        showFieldError(this, 'Please select a future date');
                        this.value = '';
                    } else {
                        clearError(this);
                    }
                });
            }
        }
        
        // Live chat button
        const liveChatBtn = document.querySelector('.demo-button');
        if (liveChatBtn) {
            liveChatBtn.addEventListener('click', function() {
                showToast('Live chat feature coming soon! For now, please use the demo booking form above.', 'success');
            });
        }
    });
    
    // Toast notification function
    function showToast(message, type = 'success') {
        // Create toast element if it doesn't exist
        let toast = document.getElementById('toast');
        if (!toast) {
            toast = document.createElement('div');
            toast.id = 'toast';
            document.body.appendChild(toast);
        }
        
        toast.textContent = message;
        toast.className = 'toast';
        toast.classList.add(type);
        toast.classList.add('show');
        
        setTimeout(() => {
            toast.classList.remove('show');
        }, 8000);
    }
    
    // Format time from 24h to 12h
    function formatTime(time24) {
        if (!time24) return '';
        
        const [hours, minutes] = time24.split(':');
        const hour = parseInt(hours);
        const ampm = hour >= 12 ? 'PM' : 'AM';
        const hour12 = hour % 12 || 12;
        
        return `${hour12}:${minutes} ${ampm}`;
    }
</script>
{% endblock %}